# Подробное описание процесса решения можно найти в Wiki это репозитория


Часть **1**

Приложение представляет собой простой список задач на Node.js, нужно было его развернуть на 2 хостах dev01 и prod01, найти команду для запуска приложения, зависимости + установить их. На первом хосте нужно было использовать docker compose и сделать доступным по домену dev.example.com, а на втором нужно было развернуть без использования докер, тут домен в условии example.com

Часть **2**

1) Cоздать проект на Gitlab ,зарегать хосты в качестве раннеров, используя теги dev и prod, проверить, есть ли у них доступ к docker.
2)  Написать пайплайн для автоматической сборки докер image с приложением, добавить шаг с публикацией образа в gitlab registry проекта. Добавить в пайплайн шаг "deploy to dev" и организовать запуск проекта на dev01 на прежних условиях, используя образ, собранный в текущем пайплайне.
3)  Завести репозиторий в докер hub и добавить шаг "release" в пайплайн, который будет перекладывать собранный образ из gitlab registry в docker hub с добавлением тега релизной версии образа.
4)  Добавить в пайплайн шаг "deploy to prod" и организовать запуск проекта на prod01 на прежних условиях, используя образ из docker hub.
5)   Продумать логику пайплайна, чтобы разные задачи соответствовали разным веткам и отвечали принципам надежной и безопасной разработки (ex: deploy на prod только из мастер ветки)

Часть **3**

1) Добавить шаг с деплоем "feature-окружений":
Для веток, начинающихся с "feature", необходимо собирать Docker-образ с тегом, содержащим хеш коммита.
На dev-контуре нужно поднимать копию приложения из этого образа.
Имена, ресурсы и порты развернутых копий не должны конфликтовать друг с другом.
Необходимая информация для подключения должна выводиться в лог CI.
2) Установить на dev-контуре docker-proxy, который будет слушать web-запросы и отправлять их в целевой контейнер
3) Настроить CI следующим образом:
- При деплое из main или тэга обновляется domain.com на prod01
- При деплое из develop обновляется dev.domain.com на dev01
- При деплое из релизной и feature-веток раскатывается адрес hashcommit.dev.domain.com на dev01
4) Настроить в Gitlab CI сущность environments, которая будет автоматически создаваться для новых окружений и иметь возможность удаления окружений
